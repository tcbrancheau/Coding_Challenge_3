using OpenQA.Selenium;

namespace CodingChallenge3.PublixBrowser;

/*
    The PublixShoppingList class represents interacting 
    with the shopping list on the Publix website.
*/
class PublixShoppingList
{
    private PublixBrowser _pBroswer;

    /*
        Constructor for the PublixShoppingList class
        Parameters:
            PbulixBrowser pBroswer: object that represents the browser

    */
    public PublixShoppingList(PublixBrowser pBrowser)
    {
        _pBroswer = pBrowser;
    }

   public void clickShoppingList()
    {
        IWebElement shoppingListButton = _pBroswer.findWebElement(PublixLocators.shoppingListButtonLocator);
        if (shoppingListButton.Displayed)
            shoppingListButton.Click();
    }

    public string[] getShoppingListItems()
    {
        string[] itemsList = {};

        List<IWebElement> listItems = _pBroswer.findWebElements(PublixLocators.shoppingListItemLocator);
        
        foreach (IWebElement item in listItems)
        {
            itemsList.Append(item.Text);
        }

        return itemsList;
    }

}